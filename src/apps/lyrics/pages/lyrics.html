{% extends "templates/app.html" %}
{% block head %}
<style>
    #lyrics {
        text-align: center;
        font-size: 20px;
        transition: transform 500ms;
        transform: translateY(0px);
        width: 100%;
        display: flex;
        flex-direction: column;
    }
    .lyric {
        padding-top: 10px;
    }
</style>
{% endblock %}
{% block content %}
<div id="lyrics">
</div>
{% endblock %}
{% block script %}
<script>
    let automove = true;
    let lyrics = [];
    const lyricsInner = document.getElementById("lyrics")
    on("lyrics", (lyr) => {
        lyricsInner.innerHTML = '';
        automove = true;
        lyrics = []
        if (lyr != null) {
            lyr.forEach(rd => {
                let line = rd
                if (typeof line === 'string') {
                    automove = false;
                } else {
                    line = line[1]
                }
                var span = document.createElement("span")
                span.classList = ['lyric']
                span.textContent = line
                lyricsInner.appendChild(span)
            });
        }
    })
    send("open", 0)
</script>
{% endblock %}